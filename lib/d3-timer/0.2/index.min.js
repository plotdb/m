!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n(t.d3_timer={})}(this,function(t){"use strict";function n(){this._call=this._time=this._next=null}function e(t,e,i){var o=new n;return o.restart(t,e,i),o}function i(t,e,i){var o=new n;return o.restart(function(n,e){o.stop(),t(n,e)},e,i),o}function o(t){t=null==t?Date.now():+t,++f;for(var n=l;n;)t>=n._time&&n._call.call(null,t-n._time,t),n=n._next;--f}function r(){for(var t,n=l,e=1/0;n;)n._call?(e>n._time&&(e=n._time),n=(t=n)._next):n=t?t._next=n._next:l=n._next;return s=t,e}function u(){f=c=0;try{o()}finally{f=0,a(r())}}function a(t){if(!f){c&&(c=clearTimeout(c));var n=t-Date.now();n>24?1/0>t&&(c=setTimeout(u,n)):(f=1,m(u))}}var l,s,f=0,c=0,m="undefined"!=typeof window&&(window.requestAnimationFrame||window.msRequestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.oRequestAnimationFrame)||function(t){return setTimeout(t,17)};n.prototype=e.prototype={restart:function(t,n,e){if("function"!=typeof t)throw new TypeError("callback is not a function");e=(null==e?Date.now():+e)+(null==n?0:+n),this._call||(s?s._next=this:l=this,s=this),this._call=t,this._time=e,a()},stop:function(){this._call&&(this._call=null,this._time=1/0,a())}};var _="0.2.0";t.version=_,t.timer=e,t.timerOnce=i,t.timerFlush=o});