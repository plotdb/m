!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e(t.d3_timer={})}(this,function(t){"use strict";function e(){this.id=++m}function n(t,n,i){var o=new e;return o.restart(t,n,i),o}function i(t,n,i){var o=new e;return o.restart(function(e,n){o.stop(),t(e,n)},n,i),o}function o(t){t=null==t?Date.now():+t,++f;try{for(var e,n=u;n;)t>=n.time&&(e=n.callback)(t-n.time,t),n=n.next}finally{--f}}function r(){f=l=0;try{o()}finally{for(var t,e=u,n=1/0;e;)e.callback?(n>e.time&&(n=e.time),e=(t=e).next):e=t?t.next=e.next:u=e.next;c=t,a(n)}}function a(t){if(!f){l&&(l=clearTimeout(l));var e=t-Date.now();e>24?1/0>t&&(l=setTimeout(r,e)):(f=1,d(r))}}var u,c,f=0,l=0,m=0,s={},d="undefined"!=typeof window&&(window.requestAnimationFrame||window.msRequestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.oRequestAnimationFrame)||function(t){return setTimeout(t,17)};e.prototype=n.prototype={restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?Date.now():+n)+(null==e?0:+e);var i=this.id,o=s[i];o?(o.callback=t,o.time=n):(o={next:null,callback:t,time:n},c?c.next=o:u=o,s[i]=c=o),a()},stop:function(){var t=this.id,e=s[t];e&&(e.callback=null,e.time=1/0,delete s[t],a())}};var w="0.1.2";t.version=w,t.timer=n,t.timerOnce=i,t.timerFlush=o});