var fs,list,hash,link,i$,to$,i,item,len$,des,j$,len1$,d;for(fs=require("fs"),list=JSON.parse(fs.readFileSync("blah").toString()),hash={},link=[],i$=0,to$=list.length;to$>i$;++i$)i=i$,item=list[i],hash[item.name]=item,item.id=i;for(i$=0,len$=list.length;len$>i$;++i$)for(item=list[i$],des=item.destination.split(","),j$=0,len1$=des.length;len1$>j$;++j$)d=des[j$],link.push({source:item.id,target:hash[d].id});for(i$=0,len$=list.length;len$>i$;++i$)item=list[i$],delete item.destination;fs.writeFileSync("output",JSON.stringify({nodes:list,links:link}));