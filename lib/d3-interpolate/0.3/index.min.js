!function(n,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("d3-color")):"function"==typeof define&&define.amd?define("d3-interpolate",["exports","d3-color"],t):t(n.d3_interpolate={},n.d3_color)}(this,function(n,t){"use strict";function r(n,r){n=t.rgb(n),r=t.rgb(r);var e=n.r,u=n.g,i=n.b,a=r.r-e,s=r.g-u,o=r.b-i;return function(t){return n.r=e+a*t,n.g=u+s*t,n.b=i+o*t,n+""}}function e(n,t){return n=+n,t-=n,function(r){return n+t*r}}function u(n,t){var r,e={},u={};for(r in n)r in t?e[r]=o(n[r],t[r]):u[r]=n[r];for(r in t)r in n||(u[r]=t[r]);return function(n){for(r in e)u[r]=e[r](n);return u}}function i(n){return function(){return n}}function a(n){return function(t){return n(t)+""}}function s(n,t){var r,u,s,o=P.lastIndex=Q.lastIndex=0,l=-1,h=[],c=[];for(n+="",t+="";(r=P.exec(n))&&(u=Q.exec(t));)(s=u.index)>o&&(s=t.slice(o,s),h[l]?h[l]+=s:h[++l]=s),(r=r[0])===(u=u[0])?h[l]?h[l]+=u:h[++l]=u:(h[++l]=null,c.push({i:l,x:e(r,u)})),o=Q.lastIndex;return o<t.length&&(s=t.slice(o),h[l]?h[l]+=s:h[++l]=s),h.length<2?c[0]?a(c[0].x):i(t):(t=c.length,function(n){for(var r,e=0;t>e;++e)h[(r=c[e]).i]=r.x(n);return h.join("")})}function o(n,t){for(var r,e=T.length;--e>=0&&!(r=T[e](n,t)););return r}function l(n,t){var r,e=[],u=[],i=n.length,a=t.length,s=Math.min(n.length,t.length);for(r=0;s>r;++r)e.push(o(n[r],t[r]));for(;i>r;++r)u[r]=n[r];for(;a>r;++r)u[r]=t[r];return function(n){for(r=0;s>r;++r)u[r]=e[r](n);return u}}function h(n,t){return n=+n,t-=n,function(r){return Math.round(n+t*r)}}function c(n){z||(z=document.createElementNS("http://www.w3.org/2000/svg","g")),n&&(z.setAttribute("transform",n),t=z.transform.baseVal.consolidate());var t,r=t?t.matrix:B,e=[r.a,r.b],u=[r.c,r.d],i=N(e),a=f(e,u),s=N(g(u,e,-a))||0;e[0]*u[1]<u[0]*e[1]&&(e[0]*=-1,e[1]*=-1,i*=-1,a*=-1),this.rotate=(i?Math.atan2(e[1],e[0]):Math.atan2(-u[0],u[1]))*V,this.translate=[r.e,r.f],this.scale=[i,s],this.skew=s?Math.atan2(a,s)*V:0}function f(n,t){return n[0]*t[0]+n[1]*t[1]}function N(n){var t=Math.sqrt(f(n,n));return t&&(n[0]/=t,n[1]/=t),t}function g(n,t,r){return n[0]+=r*t[0],n[1]+=r*t[1],n}function p(n){return n.length?n.pop()+",":""}function x(n,t,r,u){if(n[0]!==t[0]||n[1]!==t[1]){var i=r.push("translate(",null,",",null,")");u.push({i:i-4,x:e(n[0],t[0])},{i:i-2,x:e(n[1],t[1])})}else(t[0]||t[1])&&r.push("translate("+t+")")}function d(n,t,r,u){n!==t?(n-t>180?t+=360:t-n>180&&(n+=360),u.push({i:r.push(p(r)+"rotate(",null,")")-2,x:e(n,t)})):t&&r.push(p(r)+"rotate("+t+")")}function v(n,t,r,u){n!==t?u.push({i:r.push(p(r)+"skewX(",null,")")-2,x:e(n,t)}):t&&r.push(p(r)+"skewX("+t+")")}function b(n,t,r,u){if(n[0]!==t[0]||n[1]!==t[1]){var i=r.push(p(r)+"scale(",null,",",null,")");u.push({i:i-4,x:e(n[0],t[0])},{i:i-2,x:e(n[1],t[1])})}else(1!==t[0]||1!==t[1])&&r.push(p(r)+"scale("+t+")")}function M(n,t){var r=[],e=[];return n=new c(n),t=new c(t),x(n.translate,t.translate,r,e),d(n.rotate,t.rotate,r,e),v(n.skew,t.skew,r,e),b(n.scale,t.scale,r,e),n=t=null,function(n){for(var t,u=-1,i=e.length;++u<i;)r[(t=e[u]).i]=t.x(n);return r.join("")}}function m(n){return((n=Math.exp(n))+1/n)/2}function w(n){return((n=Math.exp(n))-1/n)/2}function y(n){return((n=Math.exp(2*n))-1)/(n+1)}function j(n,t){var r,e,u=n[0],i=n[1],a=n[2],s=t[0],o=t[1],l=t[2],h=s-u,c=o-i,f=h*h+c*c;if(G>f)e=Math.log(l/a)/C,r=function(n){return[u+n*h,i+n*c,a*Math.exp(C*n*e)]};else{var N=Math.sqrt(f),g=(l*l-a*a+F*f)/(2*a*D*N),p=(l*l-a*a-F*f)/(2*l*D*N),x=Math.log(Math.sqrt(g*g+1)-g),d=Math.log(Math.sqrt(p*p+1)-p);e=(d-x)/C,r=function(n){var t=n*e,r=m(x),s=a/(D*N)*(r*y(C*t+x)-w(x));return[u+s*h,i+s*c,a*r/m(C*t+x)]}}return r.duration=1e3*e,r}function k(n,t){var r=n-t;return r>180||-180>r?r-360*Math.round(r/360):r}function q(n,r){n=t.hsl(n),r=t.hsl(r);var e=isNaN(n.h)?r.h:n.h,u=isNaN(n.s)?r.s:n.s,i=n.l,a=isNaN(r.h)?0:k(r.h,e),s=isNaN(r.s)?0:r.s-u,o=r.l-i;return function(t){return n.h=e+a*t,n.s=u+s*t,n.l=i+o*t,n+""}}function A(n,r){n=t.hsl(n),r=t.hsl(r);var e=isNaN(n.h)?r.h:n.h,u=isNaN(n.s)?r.s:n.s,i=n.l,a=isNaN(r.h)?0:r.h-e,s=isNaN(r.s)?0:r.s-u,o=r.l-i;return function(t){return n.h=e+a*t,n.s=u+s*t,n.l=i+o*t,n+""}}function I(n,r){n=t.lab(n),r=t.lab(r);var e=n.l,u=n.a,i=n.b,a=r.l-e,s=r.a-u,o=r.b-i;return function(t){return n.l=e+a*t,n.a=u+s*t,n.b=i+o*t,n+""}}function E(n,r){n=t.hcl(n),r=t.hcl(r);var e=isNaN(n.h)?r.h:n.h,u=isNaN(n.c)?r.c:n.c,i=n.l,a=isNaN(r.h)?0:k(r.h,e),s=isNaN(r.c)?0:r.c-u,o=r.l-i;return function(t){return n.h=e+a*t,n.c=u+s*t,n.l=i+o*t,n+""}}function L(n,r){n=t.hcl(n),r=t.hcl(r);var e=isNaN(n.h)?r.h:n.h,u=isNaN(n.c)?r.c:n.c,i=n.l,a=isNaN(r.h)?0:r.h-e,s=isNaN(r.c)?0:r.c-u,o=r.l-i;return function(t){return n.h=e+a*t,n.c=u+s*t,n.l=i+o*t,n+""}}function R(n,r,e){arguments.length<3&&(e=1),n=t.cubehelix(n),r=t.cubehelix(r);var u=isNaN(n.h)?r.h:n.h,i=isNaN(n.s)?r.s:n.s,a=n.l,s=isNaN(r.h)?0:k(r.h,u),o=isNaN(r.s)?0:r.s-i,l=r.l-a;return function(t){return n.h=u+s*t,n.s=i+o*t,n.l=a+l*Math.pow(t,e),n+""}}function S(n,r,e){arguments.length<3&&(e=1),n=t.cubehelix(n),r=t.cubehelix(r);var u=isNaN(n.h)?r.h:n.h,i=isNaN(n.s)?r.s:n.s,a=n.l,s=isNaN(r.h)?0:r.h-u,o=isNaN(r.s)?0:r.s-i,l=r.l-a;return function(t){return n.h=u+s*t,n.s=i+o*t,n.l=a+l*Math.pow(t,e),n+""}}function X(n,t){return t=H.call(t),t[0]=null,t.unshift(null),function(r,e){return t[0]=r,t[1]=e,n.apply(null,t)}}function _(n){return 1===arguments.length?n:X(n,arguments)}var z,P=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Q=new RegExp(P.source,"g"),T=[function(n,i){var a,o=typeof i;return("string"===o?(a=t.color(i))?(i=a,r):s:i instanceof t.color?r:Array.isArray(i)?l:"object"===o&&isNaN(i)?u:e)(n,i)}],V=180/Math.PI,B={a:1,b:0,c:0,d:1,e:0,f:0},C=Math.SQRT2,D=2,F=4,G=1e-12,H=Array.prototype.slice,J="0.3.0";n.version=J,n.array=l,n.number=e,n.object=u,n.round=h,n.string=s,n.transform=M,n.values=T,n.value=o,n.zoom=j,n.rgb=r,n.hsl=q,n.hslLong=A,n.lab=I,n.hcl=E,n.hclLong=L,n.cubehelix=R,n.cubehelixLong=S,n.bind=_});